"use strict";exports.json2Tree=function(e,d){d=Object.assign({nodeIdField:"id",nodeParentIdField:"parentId",topNodeValue:0,childrenField:"children",fieldMaps:{}},d||{});var i=JSON.parse(JSON.stringify(e));return function e(d,i,n){var r=[];return d.forEach(function(t){t[n.nodeParentIdField]===i&&(Object.keys(n.fieldMaps).forEach(function(e){t[n.fieldMaps[e]]=t[e]||void 0}),t[n.childrenField]=e(d,t[n.nodeIdField],n),r.push(t))}),r}(i,d.topNodeValue,d)||[]},exports.tree2Json=function(e,d){d=Object.assign({nodeParentIdField:"parentId",topNodeValue:0,childrenField:"children",fieldMaps:{},retainChildren:!1},d||{});var i=[],n=JSON.parse(JSON.stringify(e));return function e(i,n,r){i.forEach(function(i){i[d.nodeParentIdField]=n,Object.keys(d.fieldMaps).forEach(function(e){i[d.fieldMaps[e]]=i[e]||void 0}),Array.isArray(i[d.childrenField])&&(e(i[d.childrenField],i.id,r),!0!==d.retainChildren&&delete i[d.childrenField]),r.push(i)})}(n,d.topNodeValue,i),i};